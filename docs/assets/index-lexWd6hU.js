(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))r(o);new MutationObserver(o=>{for(const c of o)if(c.type==="childList")for(const a of c.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const c={};return o.integrity&&(c.integrity=o.integrity),o.referrerPolicy&&(c.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?c.credentials="include":o.crossOrigin==="anonymous"?c.credentials="omit":c.credentials="same-origin",c}function r(o){if(o.ep)return;o.ep=!0;const c=n(o);fetch(o.href,c)}})();const d="data:image/svg+xml,%3csvg%20width='25'%20height='25'%20viewBox='0%200%2025%2025'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M6.02286%2018.0689L18.0688%206.02295'%20stroke='%23545454'%20stroke-width='2.52379'/%3e%3cpath%20d='M6.02286%206.02286L18.0688%2018.0688'%20stroke='%23545454'%20stroke-width='2.52379'/%3e%3c/svg%3e",m="data:image/svg+xml,%3csvg%20width='18'%20height='18'%20viewBox='0%200%2018%2018'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3ccircle%20cx='9'%20cy='9'%20r='7.66667'%20stroke='%23F2EBD3'%20stroke-width='2.66667'/%3e%3c/svg%3e",k=document.getElementById("user-score"),A=document.getElementById("pc-score"),p=document.getElementById("startmove"),v=document.getElementById("restart-button"),h=document.getElementById("popup"),S=document.getElementById("popup-message"),I=document.querySelectorAll(".button"),O=document.getElementById("popup-ok-button"),s=Array(9).fill(null),E=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];let y=0,w=0,i=null,l=!0;const T=()=>{k.textContent=y,A.textContent=w},u=()=>{l?p.textContent=i==="user"?"Es tu turno":"Es el turno del ordenador":p.textContent="Partita terminata"},L=e=>{v.disabled=!e},M=e=>{S.innerHTML=e,h.classList.remove("d-none")},G=()=>{h.classList.add("d-none")},f=e=>{setTimeout(()=>{let t="";e==="user"?(t=`
        <div class="popup-content">
          <img src="${d}" class="popup-image-cross" alt="Cross">
          <div class="winner-message">¡GANADOR!</div>
        </div>
      `,y++):e==="pc"?(t=`
        <div class="popup-content">
          <img src="${m}" class="popup-image" alt="Circle">
          <div class="winner-message">¡GANADOR!</div>
        </div>
      `,w++):t=`
        <div class="popup-content tie">
          <img src="${m}" class="popup-image" alt="Circle">
          <img src="${d}" class="popup-image-cross" alt="Cross">
        </div>
        <div class="tie-message">¡EMPATE!</div>
      `,M(t),T(),l=!1,u(),L(!0)},100)},$=()=>E.some(([e,t,n])=>s[e]&&s[e]===s[t]&&s[e]===s[n]),D=()=>s.every(e=>e!==null),g=e=>{for(const[t,n,r]of E){if(s[t]===e&&s[n]===e&&s[r]===null)return r;if(s[t]===e&&s[r]===e&&s[n]===null)return n;if(s[n]===e&&s[r]===e&&s[t]===null)return t}return null},N=()=>Math.random()<.6,b=()=>{$()?f(i):D()?f(null):F()},R=(e,t)=>{!l||s[t]||i!=="user"||(P(e,t,"cross"),b())},q=e=>{const t=document.querySelector(`span[data-pos='${e}']`);t&&(P(t,e,"circle"),b())},P=(e,t,n)=>{e.classList.add(n),s[t]=n},F=()=>{i=i==="user"?"pc":"user",u(),i==="pc"&&setTimeout(B,1e3)},B=()=>{if(!l||i!=="pc")return;let e=g("circle");if(e===null&&N()&&(e=g("cross")),e===null){const t=s.map((n,r)=>n===null?r:null).filter(n=>n!==null);t.length&&(e=t[Math.floor(Math.random()*t.length)])}e!==null&&q(e)},x=()=>{s.fill(null),I.forEach(e=>{e.classList.remove("cross","circle")}),i=Math.random()<.5?"user":"pc",l=!0,u(),L(!1),G(),i==="pc"&&setTimeout(B,1e3)},C=()=>x();document.addEventListener("click",e=>{const t=e.target;if(t.classList.contains("button")){const n=t.dataset.pos;l?R(t,n):M("Partida terminada. Reinicia el juego!")}});v.addEventListener("click",C);O.addEventListener("click",C);x();
